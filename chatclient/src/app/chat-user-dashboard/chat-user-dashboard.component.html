<div class="dashboard">
  <h2 *ngIf="username">Welcome, {{ username }} 
    <img *ngIf="profilePicture" [src]="profilePicture" alt="Profile Picture" class="profile-picture" />
  </h2>

  <!-- Profile Picture Upload Section -->
  <div *ngIf="username" class="profile-section">
    <p>Set a profile picture:</p>
    <input type="file" (change)="onProfilePictureChange($event)" accept="image/*" />
  </div>

  <div *ngIf="!username" class="create-user">
    <h3>Create New Chat User</h3>
    <input #newUsername type="text" placeholder="Enter a unique username" class="username-input" />
    <button (click)="createUser(newUsername.value)" class="create-button">Create User</button>
  </div>

  <div *ngIf="username">
    <h3>Your Groups</h3>
    <ul class="group-list">
      <li *ngFor="let group of groups" class="group-item">
        {{ group }}
        <button (click)="leaveGroup(group)" class="action-button leave-button">Leave Group</button>
        <button (click)="startChat(group)" class="action-button chat-button">Start Chat</button>
      </li>
    </ul>

    <h3>Available Groups</h3>
    <ul class="group-list">
      <li *ngFor="let group of allGroups" class="group-item">
        {{ group }}
        <button *ngIf="!groups.includes(group)" (click)="joinGroup(group)" class="action-button join-button">Join Group</button>
        <button *ngIf="!interestedGroups.includes(group) && !groups.includes(group)" (click)="registerInterest(group)" class="action-button interest-button">Register Interest</button>
      </li>
    </ul>

    <h3>Interested Groups</h3>
    <ul class="interested-group-list">
      <li *ngFor="let group of interestedGroups">{{ group }}</li>
    </ul>

    <div class="user-actions">
      <button (click)="logout()" class="action-button logout-button">Logout</button>
      <button (click)="deleteUser()" class="action-button delete-button">Delete Account</button>
    </div>
  </div>
</div>
